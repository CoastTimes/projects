name: Create Project

on:
  workflow_dispatch:
    inputs:
      location:
        description: Location of project (ex. Coast Gravity Park)
        default: Coast Gravity Park
        required: true
      date:
        description: Date of project (ex. 2022-12-25)
        default: 2022-12-25
        required: true
      push-to-google:
        type: boolean
        description: Push the data to Google Drive
        default: true
      footage-labels:
        description: Comma seperated description of footage (ex. James_Hero10,Jared_Hero10)
        default: James_Hero10,Jared_Hero10

jobs:
  create_dir:
    name: Create Directory Structure
    runs-on: ubuntu-latest
    steps:
      - name: Create Base Directory
        run: |
          location="${{ github.event.inputs.location }}"
          location="${location// /_}"
          footage_labels="${{ github.event.inputs.footage-labels }}"
          project_dir="${{ github.event.inputs.date }}_${location}"
          echo "LOCATION=$location" >> $GITHUB_ENV
          echo "PROJECT_DIR=$project_dir" >> $GITHUB_ENV
          mkdir "${project_dir}"
          for directory in "audio" "footage" "music" "thumbnails"; do
            mkdir "${project_dir}/${directory}"
          done
          for label in ${footage_labels//,/ }; do
            mkdir "${project_dir}/footage/${label}"
          done
          ls
          ls "${project_dir}"
          ls "${project_dir}/footage"
          
